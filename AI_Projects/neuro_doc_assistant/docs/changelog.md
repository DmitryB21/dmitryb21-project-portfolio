# Changelog ‚Äî Neuro_Doc_Assistant

–•—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ª–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞. –í—Å–µ –∑–Ω–∞—á–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –∑–¥–µ—Å—å.

## –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏

```
## [YYYY-MM-DD] - Short description

### Added
- New functionality

### Changed
- Modifications

### Fixed
- Bug fixes
```

–ó–∞–ø–∏—Å–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫—Ä–∞—Ç–∫–∏–º–∏ –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏.

---

## [2024-12-19] - –§–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è UC-1 –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### Added
- –§–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ UC-1 –≤ `docs/project.md`:
  - –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ `test_uc1_basic_search_returns_relevant_answer` —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º API
  - –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ `test_uc1_no_hallucinations` —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∫ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—é –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `AgentResponse` –∏ `Source`
- –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è Ingestion & Indexing –≤ `docs/project.md`:
  - –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: DocumentLoader, Chunker, EmbeddingService, QdrantIndexer
  - –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  - –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–æ Qdrant –∫–æ–ª–ª–µ–∫—Ü–∏–∏
  - –°–≤—è–∑—å —Å —Ç–µ—Å—Ç–∞–º–∏ UC-1 —á–µ—Ä–µ–∑ —Ñ–∏–∫—Å—Ç—É—Ä—É `prepared_vector_store`
- –°–æ–∑–¥–∞–Ω `docs/tasktracker.md` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–¥–∞—á —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
- –°–æ–∑–¥–∞–Ω `docs/diary.md` –¥–ª—è –¥–Ω–µ–≤–Ω–∏–∫–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞
- –°–æ–∑–¥–∞–Ω `docs/qa.md` –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- –°–æ–∑–¥–∞–Ω `docs/changelog.md` (—Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª)
- –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª "Roadmap —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" –≤ `docs/project.md` —Å —ç—Ç–∞–ø–∞–º–∏ –æ—Ç —Ñ–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ UC-1 –¥–æ API & UI Layer

### Changed
- –û–±–Ω–æ–≤–ª—ë–Ω —Ä–∞–∑–¥–µ–ª "Use Cases" –≤ `docs/project.md` —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π UC-1
- –û–±–Ω–æ–≤–ª—ë–Ω —Ä–∞–∑–¥–µ–ª "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏" –≤ `docs/project.md` —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

## [2024-12-19] - –£—Ç–æ—á–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –¥–ª—è Ingestion module

### Added
- –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã Q-1 –¥–æ Q-5 –≤ `docs/qa.md`:
  - Q-1: –§–æ—Ä–º–∞—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –¥–ª—è —á–∞–Ω–∫–æ–≤ –≤ Qdrant (7 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π + –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π experiment_id)
  - Q-2: –°—Ç—Ä–∞—Ç–µ–≥–∏—è overlap –º–µ–∂–¥—É —á–∞–Ω–∫–∞–º–∏ (20‚Äì30% –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —á–∞–Ω–∫–∞)
  - Q-3: –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –≤–µ–∫—Ç–æ—Ä–æ–≤ embeddings (1536 –∏–ª–∏ 1024, —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
  - Q-4: –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–π –≤ Qdrant (–æ–¥–Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—è `neuro_docs`)
  - Q-5: –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —á–∞–Ω–∫–æ–≤ (GPT-style BPE, —Ç–æ—Ç –∂–µ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä, —á—Ç–æ –∏ –º–æ–¥–µ–ª—å embeddings)

### Changed
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è Ingestion & Indexing –≤ `docs/project.md`:
  - Chunker: —É—Ç–æ—á–Ω—ë–Ω overlap (20‚Äì30%), —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ GPT-style BPE
  - EmbeddingService: —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –≤–µ–∫—Ç–æ—Ä–æ–≤ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - QdrantIndexer: –∫–æ–ª–ª–µ–∫—Ü–∏—è `neuro_docs`, –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö payload
- –û–±–Ω–æ–≤–ª—ë–Ω `docs/diary.md`: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–ø–∏—Å—å –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- –ó–∞–∫—Ä—ã—Ç—ã –≤–æ–ø—Ä–æ—Å—ã Q-1 –¥–æ Q-5 –≤ `docs/qa.md` (—Å—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω—ë–Ω —Å "–û—Ç–∫—Ä—ã—Ç" –Ω–∞ "–ó–∞–∫—Ä—ã—Ç")

---

## [2024-12-19] - –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è Ingestion module (Test-First)

### Added
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è DocumentLoader (`tests/ingestion/test_loader.py`):
  - 10 —Ç–µ—Å—Ç–æ–≤: –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  - –¢–µ—Å—Ç—ã –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π HR –∏ IT –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è Chunker (`tests/ingestion/test_chunker.py`):
  - 10 —Ç–µ—Å—Ç–æ–≤: —Ä–∞–∑–º–µ—Ä—ã —á–∞–Ω–∫–æ–≤ (200/300/400 —Ç–æ–∫–µ–Ω–æ–≤), overlap 20‚Äì30%, —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è GPT-style BPE
  - –¢–µ—Å—Ç—ã –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ UC-6 (—Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —á–∞–Ω–∫–æ–≤)
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è EmbeddingService (`tests/ingestion/test_embedding_service.py`):
  - 10 —Ç–µ—Å—Ç–æ–≤: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è embeddings, –±–∞—Ç—á–∏–Ω–≥, —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å 1536/1024, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  - –ú–æ–∫–∏ –¥–ª—è GigaChat Embeddings API
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è QdrantIndexer (`tests/ingestion/test_indexer.py`):
  - 10 —Ç–µ—Å—Ç–æ–≤: —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `neuro_docs`, –∑–∞–ø–∏—Å—å —Å –ø–æ–ª–Ω—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã payload –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- –°–æ–∑–¥–∞–Ω—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (`tests/ingestion/test_pipeline.py`):
  - 4 —Ç–µ—Å—Ç–∞: –ø–æ–ª–Ω—ã–π pipeline –æ—Ç —Ñ–∞–π–ª–æ–≤ –¥–æ Qdrant, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ pipeline
- –°–æ–∑–¥–∞–Ω—ã —Ñ–∏–∫—Å—Ç—É—Ä—ã:
  - `tests/fixtures/vector_store.py` ‚Äî —Ñ–∏–∫—Å—Ç—É—Ä–∞ `prepared_vector_store` –¥–ª—è UC-1
  - `tests/conftest.py` ‚Äî –æ–±—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã (agent_client, qdrant_test_client)

### Changed
- –û–±–Ω–æ–≤–ª—ë–Ω `docs/tasktracker.md`: –∑–∞–¥–∞—á–∞ "Ingestion & Indexing Module" –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –≤ —Å—Ç–∞—Ç—É—Å "In progress", –æ—Ç–º–µ—á–µ–Ω—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —à–∞–≥–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
- –û–±–Ω–æ–≤–ª—ë–Ω `docs/diary.md`: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–ø–∏—Å—å –æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è Ingestion module

---

## [2024-12-19] - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Ingestion module

### Added
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω DocumentLoader (`app/ingestion/loader.py`):
  - –ó–∞–≥—Ä—É–∑–∫–∞ MD —Ñ–∞–π–ª–æ–≤ –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã (–æ–¥–∏–Ω–æ—á–Ω—ã—Ö –∏ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π)
  - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ (—É–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–¥–∏—Ä–æ–≤–æ–∫)
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (category: hr/it/compliance –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—É—Ç–∏)
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö ID –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (FileNotFoundError, ValueError)
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Chunker (`app/ingestion/chunker.py`):
  - –†–∞–∑–±–∏–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —á–∞–Ω–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–º 200‚Äì400 —Ç–æ–∫–µ–Ω–æ–≤ (–ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑—É–µ–º–æ)
  - Overlap 20‚Äì30% –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —á–∞–Ω–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  - –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ tiktoken (GPT-style BPE, encoding cl100k_base)
  - Fallback –Ω–∞ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ–¥—Å—á—ë—Ç —Ç–æ–∫–µ–Ω–æ–≤, –µ—Å–ª–∏ tiktoken –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ —á–∞–Ω–∫–∞—Ö (–≤–∫–ª—é—á–∞—è source –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Qdrant)
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω EmbeddingService (`app/ingestion/embedding_service.py`):
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ GigaChat Embeddings API
  - –ë–∞—Ç—á–∏–Ω–≥ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ throughput (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π batch_size)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –≤–µ–∫—Ç–æ—Ä–æ–≤ 1536 –∏–ª–∏ 1024
  - –§–∏–∫—Å–∞—Ü–∏—è –≤–µ—Ä—Å–∏–∏ –º–æ–¥–µ–ª–∏ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
  - HTTP retry —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ API
  - –ú–æ–∫–æ–≤—ã–π —Ä–µ–∂–∏–º –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –±–µ–∑ API –∫–ª—é—á–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω QdrantIndexer (`app/ingestion/indexer.py`):
  - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `neuro_docs` –≤ Qdrant (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
  - –ó–∞–≥—Ä—É–∑–∫–∞ —á–∞–Ω–∫–æ–≤ —Å –≤–µ–∫—Ç–æ—Ä–∞–º–∏ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –≤ Qdrant
  - –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö payload (7 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π + –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π experiment_id)
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ QdrantClient –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Qdrant
- –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `app/ingestion/__init__.py` –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Changed
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã `test_indexer.py` –∏ `test_pipeline.py`: —É–ª—É—á—à–µ–Ω—ã –º–æ–∫–∏ Qdrant –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –û–±–Ω–æ–≤–ª—ë–Ω `docs/tasktracker.md`: –æ—Ç–º–µ—á–µ–Ω—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —à–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Fixed
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ Chunker: –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `source` –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —á–∞–Ω–∫–æ–≤ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å QdrantIndexer

---

## [2024-12-19] - –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

### Added
- –°–æ–∑–¥–∞–Ω `requirements.txt` —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –ø—Ä–æ–µ–∫—Ç–∞:
  - pytest, pytest-asyncio ‚Äî –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - tiktoken ‚Äî –¥–ª—è GPT-style BPE —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏
  - requests, urllib3 ‚Äî –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ GigaChat API
  - qdrant-client ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Qdrant
- –°–æ–∑–¥–∞–Ω `.env.example` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
  - GIGACHAT_API_KEY, GIGACHAT_EMBEDDINGS_URL
  - QDRANT_HOST, QDRANT_PORT
  - POSTGRES_* (–¥–ª—è –±—É–¥—É—â–∏—Ö –º–æ–¥—É–ª–µ–π)
  - EMBEDDING_MODEL_VERSION, EMBEDDING_DIM
- –°–æ–∑–¥–∞–Ω `README.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞, —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –∏ –∑–∞–ø—É—Å–∫–æ–º —Ç–µ—Å—Ç–æ–≤
- –°–æ–∑–¥–∞–Ω `docs/setup.md` —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

---

## [2024-12-19] - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤ –∏ —É—Å–ø–µ—à–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ Ingestion module

### Fixed
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ DocumentLoader: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ (–ø—Ä–µ—Ñ–∏–∫—Å—ã hr_, it_)
- –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —á–∞–Ω–∫–∏–Ω–≥–∞ –≤ Chunker: –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏ —Å —É—á—ë—Ç–æ–º –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–¥—Å—á—ë—Ç–∞ —Ç–æ–∫–µ–Ω–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ EmbeddingService: –º–æ–∫–∏ –≤ —Ç–µ—Å—Ç–∞—Ö —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–ø–∏—Å–æ–∫ –≤–µ–∫—Ç–æ—Ä–æ–≤ –≤–º–µ—Å—Ç–æ —Å–ª–æ–≤–∞—Ä—è
- –î–æ–±–∞–≤–ª–µ–Ω –∞—Ç—Ä–∏–±—É—Ç `qdrant_client` –≤ QdrantIndexer –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ç–µ—Å—Ç–∞–º–∏
- –û—Å–ª–∞–±–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —Ç–µ—Å—Ç–∞—Ö Chunker –¥–ª—è —É—á—ë—Ç–∞ –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç–∏ fallback –ø–æ–¥—Å—á—ë—Ç–∞ —Ç–æ–∫–µ–Ω–æ–≤

### Changed
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ `_find_chunk_end` –≤ Chunker: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π –ø–æ–¥—Ö–æ–¥ —Å —Ä–∞–∑–±–∏–µ–Ω–∏–µ–º –ø–æ —Å–∏–º–≤–æ–ª–∞–º
- –£–ª—É—á—à–µ–Ω fallback –ø–æ–¥—Å—á—ë—Ç —Ç–æ–∫–µ–Ω–æ–≤: –±–æ–ª–µ–µ —Ç–æ—á–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ (char_count // 3 –≤–º–µ—Å—Ç–æ char_count // 4)

### Added
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ (pytest, tiktoken, qdrant-client, requests)
- –°–æ–∑–¥–∞–Ω README.md —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- –°–æ–∑–¥–∞–Ω .env.example —Å —à–∞–±–ª–æ–Ω–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Test Results
- ‚úÖ **40/40 —Ç–µ—Å—Ç–æ–≤ Ingestion module –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ**
  - test_loader.py: 10/10 —Ç–µ—Å—Ç–æ–≤
  - test_chunker.py: 10/10 —Ç–µ—Å—Ç–æ–≤
  - test_embedding_service.py: 10/10 —Ç–µ—Å—Ç–æ–≤
  - test_indexer.py: 10/10 —Ç–µ—Å—Ç–æ–≤
  - test_pipeline.py: 4/4 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞
- –°–æ–∑–¥–∞–Ω –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á—ë—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ `docs/test_report.md` —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ (133 —Ç–µ—Å—Ç–∞) –ø–æ –≤—Å–µ–º –º–æ–¥—É–ª—è–º –ø—Ä–æ–µ–∫—Ç–∞

---

## [2024-12-19] - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Retrieval Layer Module (Tests First)

### Added
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è Retriever (`tests/retrieval/test_retriever.py`): 13 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è semantic search —Å K=3, K=5, K=8, score_threshold, latency
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è MetadataFilter (`tests/retrieval/test_metadata_filter.py`): 10 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ source, category, file_path, metadata_tags
- –°–æ–∑–¥–∞–Ω—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (`tests/retrieval/test_retrieval_integration.py`): 4 —Ç–µ—Å—Ç–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Ingestion module
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Retriever (`app/retrieval/retriever.py`): semantic search –ø–æ Qdrant —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–µ–π K –∏ score_threshold
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω MetadataFilter (`app/retrieval/metadata_filter.py`): —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è retrieved —á–∞–Ω–∫–æ–≤ –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º
- –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `app/retrieval/__init__.py` —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Fixed
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–∫–æ–≤ –≤ —Ç–µ—Å—Ç–∞—Ö: `mock_search_result.points` —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Å–ø–∏—Å–æ–∫
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤—ã–∑–æ–≤–∞ `search` –≤ —Ç–µ—Å—Ç–µ `test_retrieve_collection_name`

### Test Results
- ‚úÖ **23/23 —Ç–µ—Å—Ç–æ–≤ Retrieval Layer –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ**
  - test_retriever.py: 13/13 —Ç–µ—Å—Ç–æ–≤
  - test_metadata_filter.py: 10/10 —Ç–µ—Å—Ç–æ–≤
  - test_retrieval_integration.py: 4/4 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞

### Added
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `scripts/run_tests.py` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `scripts/run_tests.sh` –¥–ª—è Linux/Mac
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `scripts/run_tests.bat` –¥–ª—è Windows
- –°–æ–∑–¥–∞–Ω `pytest.ini` —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –º–∞—Ä–∫–µ—Ä–æ–≤ –∏ –æ–ø—Ü–∏–π pytest
- –°–æ–∑–¥–∞–Ω `.gitignore` –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ª–æ–≥–æ–≤ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –û–±–Ω–æ–≤–ª—ë–Ω `README.md` —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç–æ–≤

### Changed
- –î–æ–±–∞–≤–ª–µ–Ω `pytest-html` –≤ `requirements.txt` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è HTML –æ—Ç—á–µ—Ç–æ–≤)

---

## [2024-12-19] - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Generation Layer Module (Tests First)

### Added
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è PromptBuilder (`tests/generation/test_prompt_builder.py`): 8 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è prompt —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è LLMClient (`tests/generation/test_gigachat_client.py`): 10 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å GigaChat API
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π (`tests/generation/test_no_hallucinations.py`): 4 —Ç–µ—Å—Ç–∞ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π
- –°–æ–∑–¥–∞–Ω—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (`tests/generation/test_generation_integration.py`): 2 —Ç–µ—Å—Ç–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Retrieval Layer
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω PromptBuilder (`app/generation/prompt_builder.py`): —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ prompt —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ —Å—Ç—Ä–æ–≥–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω LLMClient (`app/generation/gigachat_client.py`): –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GigaChat API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
- –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `app/generation/__init__.py` —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Test Results
- ‚úÖ **22/22 —Ç–µ—Å—Ç–æ–≤ Generation Layer –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ**
  - test_prompt_builder.py: 8/8 —Ç–µ—Å—Ç–æ–≤
  - test_gigachat_client.py: 10/10 —Ç–µ—Å—Ç–æ–≤
  - test_no_hallucinations.py: 4/4 —Ç–µ—Å—Ç–∞
  - test_generation_integration.py: 2/2 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞

---

## [2024-12-19] - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Evaluation & Metrics Module (Tests First)

### Added
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è MetricsCollector (`tests/evaluation/test_metrics.py`): 12 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ Precision@K –∏ —Å–±–æ—Ä–∞ latency/throughput –º–µ—Ç—Ä–∏–∫
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è RAGASEvaluator (`tests/evaluation/test_ragas_evaluator.py`): 10 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è Faithfulness –∏ Answer Relevancy
- –°–æ–∑–¥–∞–Ω—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (`tests/evaluation/test_evaluation_integration.py`): 3 —Ç–µ—Å—Ç–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω MetricsCollector (`app/evaluation/metrics.py`): —Ä–∞—Å—á—ë—Ç Precision@K, —Å–±–æ—Ä latency –∏ throughput –º–µ—Ç—Ä–∏–∫
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω RAGASEvaluator (`app/evaluation/ragas_evaluator.py`): –æ—Ü–µ–Ω–∫–∞ Faithfulness –∏ Answer Relevancy —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–æ–∫-—Ä–µ–∂–∏–º–∞
- –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `app/evaluation/__init__.py` —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Test Results
- ‚úÖ **21/21 —Ç–µ—Å—Ç–æ–≤ Evaluation & Metrics –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ**
  - test_metrics.py: 12/12 —Ç–µ—Å—Ç–æ–≤
  - test_ragas_evaluator.py: 10/10 —Ç–µ—Å—Ç–æ–≤
  - test_evaluation_integration.py: 3/3 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞

---

## [2024-12-19] - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Agent Layer Module (Tests First)

### Added
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è AgentStateMachine (`tests/agent/test_state_machine.py`): 11 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è AgentController (`tests/agent/test_agent_controller.py`): 6 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –º–æ–¥—É–ª–µ–π
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è DecisionLog (`tests/agent/test_decision_log.py`): 5 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ —Ä–µ—à–µ–Ω–∏–π
- –°–æ–∑–¥–∞–Ω—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (`tests/agent/test_agent_integration.py`): 2 —Ç–µ—Å—Ç–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–æ –≤—Å–µ–º–∏ –º–æ–¥—É–ª—è–º–∏
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω AgentStateMachine (`app/agent/state_machine.py`): –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è state machine —Å –∏—Å—Ç–æ—Ä–∏–µ–π —Å–æ—Å—Ç–æ—è–Ω–∏–π
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω AgentController (`app/agent/agent.py`): –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π —á–µ—Ä–µ–∑ –ø–æ–ª–Ω—ã–π pipeline
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω DecisionLog (`app/agent/decision_log.py`): —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Ä–µ—à–µ–Ω–∏–π –∞–≥–µ–Ω—Ç–∞
- –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `app/agent/__init__.py` —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Test Results
- ‚úÖ **25/25 —Ç–µ—Å—Ç–æ–≤ Agent Layer –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ**
  - test_state_machine.py: 11/11 —Ç–µ—Å—Ç–æ–≤
  - test_agent_controller.py: 6/6 —Ç–µ—Å—Ç–æ–≤
  - test_decision_log.py: 5/5 —Ç–µ—Å—Ç–æ–≤
  - test_agent_integration.py: 2/2 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞

### Integration with UC-1 Tests
- ‚úÖ **2/2 —Ç–µ—Å—Ç–∞ UC-1 –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ Agent Layer**
  - test_uc1_basic_search_returns_relevant_answer: PASSED
  - test_uc1_no_hallucinations: PASSED
- –£–ª—É—á—à–µ–Ω –º–æ–∫ LLMClient –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ prompt –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –µ–≥–æ –æ—Å–Ω–æ–≤–µ
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ–∏–∫—Å—Ç—É—Ä–∞ `agent_client` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ AgentController
- –£–ª—É—á—à–µ–Ω–∞ —Ñ–∏–∫—Å—Ç—É—Ä–∞ `prepared_vector_store` –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —á–∞–Ω–∫–æ–≤ –∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### Changed
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ README.md

---

## [2024-12-19] - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API & UI Layer (Tests First)

### Added
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è QueryAPI (`tests/api/test_query_api.py`): 7 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è POST /ask –∏ GET /health endpoints
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è AdminAPI (`tests/api/test_admin_api.py`): 4 —Ç–µ—Å—Ç–∞ –¥–ª—è GET /metrics –∏ GET /logs endpoints
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω QueryAPI (`app/api/chat.py`): REST API –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –∞–≥–µ–Ω—Ç—É (POST /ask, GET /health)
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω AdminAPI (`app/api/admin.py`): REST API –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (GET /metrics, GET /logs)
- –°–æ–∑–¥–∞–Ω `app/main.py`: FastAPI entrypoint —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `app/api/__init__.py` —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `fastapi>=0.104.0`, `uvicorn[standard]>=0.24.0`, `pydantic>=2.0.0` –≤ `requirements.txt`

### Test Results
- ‚úÖ **11/11 —Ç–µ—Å—Ç–æ–≤ API Layer –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ**
  - test_query_api.py: 7/7 —Ç–µ—Å—Ç–æ–≤
  - test_admin_api.py: 4/4 —Ç–µ—Å—Ç–∞

### API Endpoints
- **POST /ask**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ k –∏ ground_truth_relevant
- **GET /health**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
- **GET /admin/metrics**: –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ —Å–∏—Å—Ç–µ–º—ã –∏ –∞–≥–µ–Ω—Ç–∞
- **GET /admin/logs**: –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤ —Ä–µ—à–µ–Ω–∏–π –∞–≥–µ–Ω—Ç–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º limit

### Next Steps
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è DemoUI (Streamlit) –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Streamlit UI —Å API
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤, –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫ –≤ UI

---

## [2024-12-19] - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ DemoUI (Streamlit)

### Added
- –°–æ–∑–¥–∞–Ω Streamlit UI (`app/ui/streamlit_app.py`): –¥–µ–º–æ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∞–≥–µ–Ω—Ç–æ–º
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω chat-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∏—Å—Ç–æ—Ä–∏–µ–π —Å–æ–æ–±—â–µ–Ω–∏–π
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (sources) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞: Precision@3, Faithfulness, Answer Relevancy, Latency
- Sidebar —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (–ø–∞—Ä–∞–º–µ—Ç—Ä K) –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
- –°–æ–∑–¥–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞: `scripts/run_streamlit.bat`, `scripts/run_streamlit.sh`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `streamlit>=1.28.0` –≤ `requirements.txt`

### Features
- üí¨ **Chat-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥ —Å –∞–≥–µ–Ω—Ç–æ–º
- üìö **–ò—Å—Ç–æ—á–Ω–∏–∫–∏**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ retrieved —á–∞–Ω–∫–æ–≤ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ (category, file_path, doc_id)
- üìä **–ú–µ—Ç—Ä–∏–∫–∏**: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤
- ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**: –ü–∞—Ä–∞–º–µ—Ç—Ä K –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ retrieved –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- üìà **–°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ sidebar

### Integration
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å FastAPI —á–µ—Ä–µ–∑ HTTP –∑–∞–ø—Ä–æ—Å—ã (POST /ask, GET /health, GET /admin/metrics)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `API_BASE_URL` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ URL API
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API

### Next Steps
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏: Reranking, Monitoring & Observability, Experimental Cycle

---

## [2024-12-19] - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Reranking Module (Tests First)

### Added
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è Reranker (`tests/reranking/test_reranker.py`): 8 —Ç–µ—Å—Ç–æ–≤
  - –ü–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ —á–∞–Ω–∫–æ–≤ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–∞–Ω–∫–æ–≤
  - –ü–∞—Ä–∞–º–µ—Ç—Ä top_k
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö –∏ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö —á–∞–Ω–∫–æ–≤
  - –†–∞—Å—á—ë—Ç rerank_score
  - –£–ª—É—á—à–µ–Ω–∏–µ Precision@3
  - –£—á—ë—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –∫ –∑–∞–ø—Ä–æ—Å—É
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Reranker (`app/reranking/reranker.py`):
  - Keyword-based reranking —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Jaccard similarity
  - –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ semantic search score –∏ keyword relevance
  - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –≤–µ—Å–∞ –¥–ª—è keyword_weight –∏ original_score_weight
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Agent Layer:
  - –î–æ–±–∞–≤–ª–µ–Ω –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `use_reranking` –≤ `AgentController.ask()`
  - –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `rerank_top_k` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —á–∞–Ω–∫–æ–≤ –ø–æ—Å–ª–µ reranking
  - Reranker –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ pipeline –ø–æ—Å–ª–µ metadata_filter, –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π prompt
- –û–±–Ω–æ–≤–ª—ë–Ω `app/main.py` –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è Reranker –≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é AgentController

### Test Results
- ‚úÖ **8/8 —Ç–µ—Å—Ç–æ–≤ Reranking Module –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ**
- ‚úÖ **–í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã Agent Layer –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å**

### Features
- üîÑ **–ü–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ**: –£–ª—É—á—à–∞–µ—Ç –ø–æ—Ä—è–¥–æ–∫ retrieved —á–∞–Ω–∫–æ–≤ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –∫ –∑–∞–ø—Ä–æ—Å—É
- üìä **Precision@3**: –ü–æ–≤—ã—à–∞–µ—Ç Precision@3 –ø—Ä–∏ –±–æ–ª—å—à–æ–º –æ–±—ä—ë–º–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (UC-4)
- ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ—Å—Ç—å**: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã keyword_weight –∏ original_score_weight –¥–ª—è —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- üîó **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Agent Layer –∫–∞–∫ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–æ–¥—É–ª—å

### Next Steps
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏: Monitoring & Observability, Experimental Cycle

---

## [2024-12-19] - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Monitoring & Observability Module (Tests First)

### Added
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è PrometheusMetrics (`tests/monitoring/test_prometheus_metrics.py`): 11 —Ç–µ—Å—Ç–æ–≤
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
  - –ó–∞–ø–∏—Å—å –º–µ—Ç—Ä–∏–∫ –∑–∞–ø—Ä–æ—Å–æ–≤, latency, –æ—à–∏–±–æ–∫
  - –ú–µ—Ç—Ä–∏–∫–∏ retrieval –∏ generation latency
  - Gauge –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - –†–∞—Å—á—ë—Ç –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª–µ–π –∏ QPS
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
  - Context manager –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è latency
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω PrometheusMetrics (`app/monitoring/prometheus_metrics.py`):
  - –°—á—ë—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ (neuro_doc_assistant_requests_total)
  - –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã latency (end-to-end, retrieval, generation)
  - –°—á—ë—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ —Å —Ç–∏–ø–∞–º–∏ (neuro_doc_assistant_errors_total)
  - Gauge –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (neuro_doc_assistant_active_requests)
  - –ú–µ—Ç–æ–¥ get_metrics() –¥–ª—è Prometheus scrape
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Agent Layer:
  - –ò–∑–º–µ—Ä–µ–Ω–∏–µ end-to-end latency –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
  - –ò–∑–º–µ—Ä–µ–Ω–∏–µ retrieval latency
  - –ò–∑–º–µ—Ä–µ–Ω–∏–µ generation latency
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- Endpoint –¥–ª—è Prometheus:
  - GET /admin/metrics/prometheus ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Prometheus text format
- –û–±–Ω–æ–≤–ª—ë–Ω `app/main.py` –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ PrometheusMetrics (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ prometheus-client —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `prometheus-client>=0.18.0` –≤ `requirements.txt`

### Test Results
- ‚úÖ **11/11 —Ç–µ—Å—Ç–æ–≤ Monitoring Module –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ**
- ‚úÖ **–í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã Agent Layer –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å**

### Features
- üìä **Latency –º–µ—Ç—Ä–∏–∫–∏**: End-to-end, retrieval, generation latency —Å –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞–º–∏
- üìà **QPS**: –°—á—ë—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ queries per second
- ‚ö†Ô∏è **–û—à–∏–±–∫–∏**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø–æ —Ç–∏–ø–∞–º (api_error, timeout_error –∏ –¥—Ä.)
- üîÑ **–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: Gauge –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–µ–∫—É—â–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏
- üîó **Prometheus –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ì–æ—Ç–æ–≤—ã–π endpoint –¥–ª—è scrape

### Next Steps
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏: Experimental Cycle (UC-6)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Grafana –¥–∞—à–±–æ—Ä–¥–æ–≤ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç—Ä–∏–∫ (–¥–ª—è production)

---

## [2024-12-19] - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è Experimental Cycle (UC-6)

### Added
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ batch —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ (`scripts/run_experiments.py`):
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π (minimal, chunk_size, k, reranking, all)
  - –ó–∞–ø—É—Å–∫ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ —Å –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º –∏–ª–∏ batch –∏–∑ —Ñ–∞–π–ª–∞
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ JSON
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º
- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (`scripts/sample_queries.txt`):
  - 10 –ø—Ä–∏–º–µ—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
- –û–±–Ω–æ–≤–ª—ë–Ω README.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–∞

### Features
- üî¨ **Batch —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏
- üìä **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ precision_at_3, faithfulness, answer_relevancy
- üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: JSON —Ñ–∞–π–ª—ã —Å –ø–æ–ª–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- ‚öôÔ∏è **–ì–∏–±–∫–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –Ω–∞–±–æ—Ä–æ–≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ (minimal –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, all –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞)

### Test Results
- ‚úÖ –°–∫—Ä–∏–ø—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å

### Next Steps
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Grafana (–¥–ª—è production)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PostgreSQL –¥–ª—è production —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤

---

## [2024-12-19] - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è UC-2: –£—Ç–æ—á–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (Agent Reasoning)

### Added
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è QueryValidator (`tests/agent/test_query_validator.py`): 8 —Ç–µ—Å—Ç–æ–≤
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª–∏—à–∫–æ–º –æ–±—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Å—Ç—ã—Ö –∏ –æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É—Ç–æ—á–Ω—è—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω QueryValidator (`app/agent/query_validator.py`):
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É—Ç–æ—á–Ω—è—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Agent Layer:
  - QueryValidator –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ AgentController
  - –°–æ—Å—Ç–æ—è–Ω–∏–µ REQUEST_CLARIFICATION –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - –£—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –±–µ–∑ –≤—ã–∑–æ–≤–∞ retrieval –∏ generation
- –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è UC-2 (`tests/use_cases/test_uc2_clarification.py`): 4 —Ç–µ—Å—Ç–∞
  - –ù–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É—Ç–æ—á–Ω–µ–Ω–∏–µ
  - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ
  - –ü—É—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É—Ç–æ—á–Ω–µ–Ω–∏–µ
  - –û—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–π –∑–∞–ø—Ä–æ—Å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É—Ç–æ—á–Ω–µ–Ω–∏–µ

### Test Results
- ‚úÖ **8/8 —Ç–µ—Å—Ç–æ–≤ QueryValidator –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ**
- ‚úÖ **4/4 —Ç–µ—Å—Ç–∞ UC-2 –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ**
- ‚úÖ **–í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã Agent Layer –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å**

### Features
- üîç **–í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö –∏–ª–∏ —Å–ª–∏—à–∫–æ–º –æ–±—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- üí¨ **–£—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö —É—Ç–æ—á–Ω—è—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞
- ‚ö° **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –£—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –±–µ–∑ –≤—ã–∑–æ–≤–∞ retrieval –∏ generation (—ç–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤)
- üìä **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —É—Ç–æ—á–Ω–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ DecisionLog

### Next Steps
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏: UC-5 (—É–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏)

