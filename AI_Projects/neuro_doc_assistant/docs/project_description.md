# Neuro_Doc_Assistant ‚Äî –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª](#—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)
2. [–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø—Ä–æ–µ–∫—Ç–∞](#–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø—Ä–æ–µ–∫—Ç–∞)
   - [Test-First –ø–æ–¥—Ö–æ–¥](#test-first-–ø–æ–¥—Ö–æ–¥)
   - [–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∞–≥–µ–Ω—Ç–∞](#–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è-–ª–æ–≥–∏–∫–∞-–∞–≥–µ–Ω—Ç–∞)
   - [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π –∏ —Å–µ—Ä–≤–∏—Å–æ–≤](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö-–º–æ–¥–µ–ª–µ–π-–∏-—Å–µ—Ä–≤–∏—Å–æ–≤)
   - [–ò–∑–º–µ—Ä–∏–º–∞—è AI-—Å–∏—Å—Ç–µ–º–∞](#–∏–∑–º–µ—Ä–∏–º–∞—è-ai-—Å–∏—Å—Ç–µ–º–∞)
   - [–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª](#—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π-—Ü–∏–∫–ª)

---

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 1. –ú–æ–¥—É–ª—å Ingestion & Indexing (–ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (44 —Ç–µ—Å—Ç–∞)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **DocumentLoader** ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã (MD, PDF, DOCX, TXT)
  - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ (—É–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–¥–∏—Ä–æ–≤–æ–∫)
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–ø—É—Ç—å –∫ —Ñ–∞–π–ª—É, —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏—è: HR/IT/Compliance)
- **Chunker** ‚Äî —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —á–∞–Ω–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–º 200‚Äì400 —Ç–æ–∫–µ–Ω–æ–≤
  - –°—Ç—Ä–∞—Ç–µ–≥–∏—è overlap: 20‚Äì30% –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —á–∞–Ω–∫–∞
  - –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è GPT-style BPE –¥–ª—è GigaChat
- **EmbeddingService** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GigaChat Embeddings API
  - –ë–∞—Ç—á–∏–Ω–≥ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ throughput
  - –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –≤–µ–∫—Ç–æ—Ä–æ–≤: 1536 (GigaChat)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ mock mode –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ API
- **QdrantIndexer** ‚Äî –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö Qdrant
  - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `neuro_docs`
  - –ó–∞–≥—Ä—É–∑–∫–∞ —á–∞–Ω–∫–æ–≤ —Å –≤–µ–∫—Ç–æ—Ä–∞–º–∏ –∏ –ø–æ–ª–Ω—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≥–æ–Ω–æ–≤ —á–µ—Ä–µ–∑ `experiment_id`

**–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:**
```
–ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã ‚Üí DocumentLoader ‚Üí —Å–ø–∏—Å–æ–∫ Document
    ‚Üì
Chunker ‚Üí —Å–ø–∏—Å–æ–∫ Chunk
    ‚Üì
EmbeddingService ‚Üí —Å–ø–∏—Å–æ–∫ –≤–µ–∫—Ç–æ—Ä–æ–≤
    ‚Üì
QdrantIndexer ‚Üí Qdrant –∫–æ–ª–ª–µ–∫—Ü–∏—è (–≥–æ—Ç–æ–≤–æ –¥–ª—è Retrieval)
```

### 2. –ú–æ–¥—É–ª—å Retrieval Layer (–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (27 —Ç–µ—Å—Ç–æ–≤)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **Retriever** ‚Äî —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –≤ Qdrant
  - –ü–æ–∏—Å–∫ —Ç–æ–ø-K —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —á–∞–Ω–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è K (3, 5, 8)
  - –í–æ–∑–≤—Ä–∞—Ç —á–∞–Ω–∫–æ–≤ —Å score –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- **MetadataFilter** ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É (HR, IT, Compliance)
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- UC-1: –ë–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- UC-3: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º
- UC-5: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### 3. –ú–æ–¥—É–ª—å Reranking (–ü–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (8 —Ç–µ—Å—Ç–æ–≤)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **Reranker** ‚Äî –ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ retrieved –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  - Keyword-based reranking —Å –∫–æ–º–±–∏–Ω–∞—Ü–∏–µ–π semantic search score
  - –ü–æ–≤—ã—à–µ–Ω–∏–µ Precision@3 –ø—Ä–∏ –±–æ–ª—å—à–æ–º –æ–±—ä—ë–º–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–≤–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥ `use_reranking`)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- UC-4: Reranking –ø—Ä–∏ –±–æ–ª—å—à–æ–º –æ–±—ä—ë–º–µ –¥–∞–Ω–Ω—ã—Ö
- UC-6: –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å/–±–µ–∑ reranking)

### 4. –ú–æ–¥—É–ª—å Generation Layer (–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (22 —Ç–µ—Å—Ç–∞)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **PromptBuilder** ‚Äî —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ prompt –¥–ª—è LLM
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è "–æ—Ç–≤–µ—á–∞–π —Ç–æ–ª—å–∫–æ –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É" –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π
  - –í–∫–ª—é—á–µ–Ω–∏–µ retrieved —á–∞–Ω–∫–æ–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è GigaChat API
- **LLMClient** ‚Äî –∫–ª–∏–µ–Ω—Ç –¥–ª—è GigaChat API
  - OAuth 2.0 –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ mock mode –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- UC-1: –ë–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- UC-5: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö)

### 5. –ú–æ–¥—É–ª—å Evaluation & Metrics (–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (21 —Ç–µ—Å—Ç)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **MetricsCollector** ‚Äî —Ä–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞
  - Precision@K –¥–ª—è retrieved —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - –°–±–æ—Ä latency –º–µ—Ç—Ä–∏–∫ (retrieval, generation, end-to-end)
  - –°–±–æ—Ä throughput –º–µ—Ç—Ä–∏–∫ (QPS)
- **RAGASEvaluator** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RAGAS –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
  - **Faithfulness** ‚Äî –Ω–∞—Å–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
  - **Answer Relevancy** ‚Äî –Ω–∞—Å–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–µ–Ω –∑–∞–ø—Ä–æ—Å—É
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ mock mode –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- UC-1: –ü—Ä–æ–≤–µ—Ä–∫–∞ Precision@3 ‚â• 80% –∏ Faithfulness ‚â• 0.85
- UC-6: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ–º —Ü–∏–∫–ª–µ
- UC-7: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞ –≤ production

### 6. Agent Layer (–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (25 —Ç–µ—Å—Ç–æ–≤)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **AgentController** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π orchestrator
  - –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π (Retrieval, Generation, Evaluation)
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ state machine
  - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ AgentResponse
  - –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Ä–µ—à–µ–Ω–∏–π —á–µ—Ä–µ–∑ DecisionLog
- **AgentStateMachine** ‚Äî –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–π
  - –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
  - –°–æ—Å—Ç–æ—è–Ω–∏—è: IDLE ‚Üí VALIDATE_QUERY ‚Üí RETRIEVE ‚Üí GENERATE ‚Üí VALIDATE_ANSWER ‚Üí LOG_METRICS ‚Üí RETURN_RESPONSE
  - –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- **QueryValidator** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–ª–Ω–æ—Ç—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É—Ç–æ—á–Ω—è—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (UC-2)
- **DecisionLog** ‚Äî —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Ä–µ—à–µ–Ω–∏–π –∞–≥–µ–Ω—Ç–∞
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ö–æ–¥–Ω—ã—Ö/–≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- UC-1: –ë–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- UC-2: –£—Ç–æ—á–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- UC-3: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º
- UC-4: Reranking
- UC-5: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- UC-6: –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª

### 7. API Layer (REST API)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (11 —Ç–µ—Å—Ç–æ–≤)

**Endpoints:**
- **QueryAPI:**
  - `POST /ask` ‚Äî –∑–∞–ø—Ä–æ—Å –∫ –∞–≥–µ–Ω—Ç—É
    - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `query`, `k`, `ground_truth_relevant`, `use_metadata_filter`, `use_reranking`
    - –í–æ–∑–≤—Ä–∞—Ç: `answer`, `sources`, `metrics`
  - `GET /health` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
- **AdminAPI:**
  - `GET /admin/metrics` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ —Å–∏—Å—Ç–µ–º—ã –∏ –∞–≥–µ–Ω—Ç–∞ (JSON)
  - `GET /admin/metrics/prometheus` ‚Äî endpoint –¥–ª—è Prometheus scrape (—Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç)
  - `GET /admin/logs?limit=100` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤ —Ä–µ—à–µ–Ω–∏–π –∞–≥–µ–Ω—Ç–∞
  - `GET /admin/services/status` ‚Äî —Å—Ç–∞—Ç—É—Å –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (Qdrant, GigaChat API)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:**
- Swagger UI: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`

### 8. Monitoring & Observability (–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (11 —Ç–µ—Å—Ç–æ–≤)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **PrometheusMetrics** ‚Äî —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –¥–ª—è Prometheus
  - –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã latency (end-to-end, retrieval, generation)
  - –°—á—ë—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—à–∏–±–æ–∫
  - Gauge –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - Endpoint `/admin/metrics/prometheus` –¥–ª—è scrape

**–ú–µ—Ç—Ä–∏–∫–∏:**
- `neuro_doc_assistant_requests_total` ‚Äî –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- `neuro_doc_assistant_request_latency_seconds` ‚Äî end-to-end latency
- `neuro_doc_assistant_retrieval_latency_seconds` ‚Äî retrieval latency
- `neuro_doc_assistant_generation_latency_seconds` ‚Äî generation latency
- `neuro_doc_assistant_errors_total` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –ø–æ —Ç–∏–ø–∞–º
- `neuro_doc_assistant_active_requests` ‚Äî –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- UC-7: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ production
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Grafana –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

### 9. Storage Module (–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (12 —Ç–µ—Å—Ç–æ–≤)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **ExperimentRepository** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π (chunk_size, K, reranking, embedding_model)
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ (precision_at_3, faithfulness, answer_relevancy, latency)
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ in-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (–¥–ª—è —Ç–µ—Å—Ç–æ–≤) –∏ PostgreSQL (–¥–ª—è production)
- **DocumentRepository** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  - –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (source, category, file_path, embedding_mode)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- UC-6: –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)

### 10. Demo UI (Streamlit)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- Chat-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∞–≥–µ–Ω—Ç–æ–º
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –∞–≥–µ–Ω—Ç–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (—á–∞–Ω–∫–æ–≤) —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞ (Precision@3, Faithfulness, Answer Relevancy)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (Qdrant, GigaChat API)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ (K, reranking, metadata filter)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- UC-8: –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –¥–ª—è —Å—Ç–µ–π–∫—Ö–æ–ª–¥–µ—Ä–æ–≤

### 11. –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª (UC-6)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **–°–∫—Ä–∏–ø—Ç `run_experiments.py`** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è batch —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
  - –ó–∞–ø—É—Å–∫ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ JSON
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –º–µ–∂–¥—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏

**–¢–∏–ø—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤:**
- –†–∞–∑–º–µ—Ä —á–∞–Ω–∫–æ–≤ (200 / 300 / 400 —Ç–æ–∫–µ–Ω–æ–≤)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ retrieved –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (K = 3 / 5 / 8)
- –° reranking / –±–µ–∑ reranking
- –†–∞–∑–Ω—ã–µ embedding-–º–æ–¥–µ–ª–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –û—Ü–µ–Ω–∫–∞ –≤–ª–∏—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ RAG –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞
- –í—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–∞

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø—Ä–æ–µ–∫—Ç–∞

### Test-First –ø–æ–¥—Ö–æ–¥

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É **test-first / use-case-driven development**: —Å–Ω–∞—á–∞–ª–∞ —Ñ–æ—Ä–º—É–ª–∏—Ä—É—é—Ç—Å—è —Ç–µ—Å—Ç-–∫–µ–π—Å—ã (–Ω–∞ –æ—Å–Ω–æ–≤–µ Use Cases), –∑–∞—Ç–µ–º –ø—Ä–æ–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è –º–æ–¥—É–ª–∏ –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ ‚Äî –∫–æ–¥.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

1. **–§–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ Use Cases:**
   - –ö–∞–∂–¥—ã–π Use Case (UC-1, UC-2, UC-3, ...) —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –≤ acceptance / integration tests
   - –¢–µ—Å—Ç—ã —Å–ª–µ–¥—É—é—Ç —Ñ–æ—Ä–º–∞—Ç—É **Given / When / Then**
   - –í—Å–µ —Ç–µ—Å—Ç-–∫–µ–π—Å—ã —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ `/tests/use_cases/` –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ –∫—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —ç—Ç–∞–ø–æ–≤

2. **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:**
   - **175 —Ç–µ—Å—Ç–æ–≤** –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ –º–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã
   - **Ingestion Module**: 44 —Ç–µ—Å—Ç–∞ ‚úÖ
   - **Retrieval Module**: 27 —Ç–µ—Å—Ç–æ–≤ ‚úÖ
   - **Generation Module**: 22 —Ç–µ—Å—Ç–∞ ‚úÖ
   - **Evaluation Module**: 21 —Ç–µ—Å—Ç ‚úÖ
   - **Agent Layer Module**: 25 —Ç–µ—Å—Ç–æ–≤ ‚úÖ
   - **API Layer Module**: 11 —Ç–µ—Å—Ç–æ–≤ ‚úÖ
   - **Reranking Module**: 8 —Ç–µ—Å—Ç–æ–≤ ‚úÖ
   - **Monitoring Module**: 11 —Ç–µ—Å—Ç–æ–≤ ‚úÖ
   - **Storage Module**: 12 —Ç–µ—Å—Ç–æ–≤ ‚úÖ
   - **Use Cases (UC-1)**: 2 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞ ‚úÖ

3. **–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç-–∫–µ–π—Å–∞ (UC-1):**
   ```python
   # Given: –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ SLA –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∞
   # When: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å ¬´–ö–∞–∫–æ–π SLA —É —Å–µ—Ä–≤–∏—Å–∞ –ø–ª–∞—Ç–µ–∂–µ–π?¬ª
   # Then:
   #   - Precision@3 ‚â• 80%
   #   - Faithfulness ‚â• 0.85
   #   - –æ—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
   ```

4. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
   - ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º Use Cases
   - ‚úÖ –†–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
   - ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç—ã
   - ‚úÖ –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ
   - ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- –ü–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á—ë—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏: `docs/test_report.md`
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∞ –≤ `docs/architecture.md` –∏ `docs/project.md`

---

### –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∞–≥–µ–Ω—Ç–∞

**–ü—Ä–∏–Ω—Ü–∏–ø:** LLM **—Ç–æ–ª—å–∫–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç**, –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç flow. –í—Å—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ–¥–µ, –∞ –Ω–µ –≤ LLM.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

1. **AgentStateMachine ‚Äî –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç:**
   - –í—Å–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ —è–≤–Ω–æ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –≤ –∫–æ–¥–µ
   - –°–æ—Å—Ç–æ—è–Ω–∏—è: `IDLE ‚Üí VALIDATE_QUERY ‚Üí RETRIEVE ‚Üí GENERATE ‚Üí VALIDATE_ANSWER ‚Üí LOG_METRICS ‚Üí RETURN_RESPONSE`
   - –ü–µ—Ä–µ—Ö–æ–¥—ã —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π, –∞ –Ω–µ LLM
   - –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏

2. **AgentController ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:**
   - –ê–≥–µ–Ω—Ç –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º (tools), –Ω–æ **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LLM –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤**
   - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –≤ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
     - `semantic_search` ‚Äî –≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –ø–æ–∏—Å–∫–∞ —á–∞–Ω–∫–æ–≤
     - `metadata_filter` ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω —Ñ–ª–∞–≥ `use_metadata_filter`
     - `rerank_documents` ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω —Ñ–ª–∞–≥ `use_reranking`
     - `generate_answer` ‚Äî –≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ retrieval
     - `log_metrics` ‚Äî –≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

3. **LLM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞:**
   - LLM –ø–æ–ª—É—á–∞–µ—Ç prompt —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (retrieved chunks) –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π "–æ—Ç–≤–µ—á–∞–π —Ç–æ–ª—å–∫–æ –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É"
   - LLM **–Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è** –æ —Ç–æ–º, –∫–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤—ã–∑—ã–≤–∞—Ç—å
   - LLM **–Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç flow** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞

4. **DecisionLog ‚Äî —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Ä–µ—à–µ–Ω–∏–π:**
   - –í—Å–µ —à–∞–≥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ DecisionLog
   - –ö–∞–∂–¥–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è —Å –≤—Ö–æ–¥–Ω—ã–º–∏/–≤—ã—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
   - –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É –∞–≥–µ–Ω—Ç –ø—Ä–∏–Ω—è–ª —Ç–æ –∏–ª–∏ –∏–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

5. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
   - ‚úÖ **–ü–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å:** –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –≤—Å–µ–≥–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ
   - ‚úÖ **–û—Ç–ª–∞–¥–∫–∞:** –º–æ–∂–Ω–æ —Ç–æ—á–Ω–æ –ø–æ–Ω—è—Ç—å, –Ω–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞
   - ‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —à–∞–≥ –æ—Ç–¥–µ–ª—å–Ω–æ
   - ‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å:** –º–æ–∂–Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –∞–≥–µ–Ω—Ç –Ω–µ –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
   - ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤ LLM –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞: `docs/agent_flow.md`
- State machine: `app/agent/state_machine.py`
- AgentController: `app/agent/agent.py`

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å LangGraph:**
- –ü—Ä–æ–µ–∫—Ç **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LangGraph**, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç LLM —É–ø—Ä–∞–≤–ª—è—Ç—å flow
- –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è AgentStateMachine
- –ü–æ–¥—Ä–æ–±–Ω–µ–µ: `docs/langgraph_analysis.md`

---

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π –∏ —Å–µ—Ä–≤–∏—Å–æ–≤

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π –∏ —Å–µ—Ä–≤–∏—Å–æ–≤.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

1. **GigaChat API ‚Äî LLM –∏ Embeddings:**
   - **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤:** GigaChat API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞
   - **Embeddings:** GigaChat Embeddings API –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
   - **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** OAuth 2.0 (GIGACHAT_AUTH_KEY)
   - **Endpoints:**
     - Chat: `https://gigachat.devices.sberbank.ru/api/v1/chat/completions`
     - Embeddings: `https://gigachat.devices.sberbank.ru/api/v1/embeddings`

2. **Qdrant ‚Äî –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - Self-hosted Qdrant –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
   - –ö–æ–ª–ª–µ–∫—Ü–∏—è `neuro_docs` –¥–ª—è –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

3. **SberCloud ‚Äî –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
   - **Object Storage** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
   - **Managed PostgreSQL** ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã, –ª–æ–≥–∏
   - **Compute Cloud VM** ‚Äî FastAPI –∏ Qdrant

4. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
   - ‚úÖ **–°—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:** –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –†–æ—Å—Å–∏–∏
   - ‚úÖ **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
   - ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞:** GigaChat –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏
   - ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π:** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ SberCloud –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GigaChat OAuth: `docs/gigachat_oauth_setup.md`
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GigaChat: `docs/gigachat_setup_quick.md`
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: `docs/architecture.md`

---

### –ò–∑–º–µ—Ä–∏–º–∞—è AI-—Å–∏—Å—Ç–µ–º–∞

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ü—Ä–æ–µ–∫—Ç –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ **–∏–∑–º–µ—Ä–∏–º–∞—è AI-—Å–∏—Å—Ç–µ–º–∞**, –∞ –Ω–µ ¬´—á–∞—Ç —Å LLM¬ª. –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è, –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

1. **–¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞:**
   | –ú–µ—Ç—Ä–∏–∫–∞                  | –¶–µ–ª—å           | –°—Ç–∞—Ç—É—Å |
   | ------------------------ | -------------- | ------ |
   | End-to-end latency (p95) | < 1.3 —Å–µ–∫      | ‚úÖ –ò–∑–º–µ—Ä—è–µ—Ç—Å—è |
   | Retrieval latency (p95)  | < 200 –º—Å       | ‚úÖ –ò–∑–º–µ—Ä—è–µ—Ç—Å—è |
   | Precision@3              | ‚â• 80%          | ‚úÖ –ò–∑–º–µ—Ä—è–µ—Ç—Å—è |
   | RAG Faithfulness (RAGAS) | ‚â• 0.85         | ‚úÖ –ò–∑–º–µ—Ä—è–µ—Ç—Å—è |
   | Answer Relevancy (RAGAS) | ‚â• 0.80         | ‚úÖ –ò–∑–º–µ—Ä—è–µ—Ç—Å—è |
   | Indexing throughput      | ‚â• 1200 –¥–æ–∫/—á–∞—Å | ‚úÖ –ò–∑–º–µ—Ä—è–µ—Ç—Å—è |

2. **–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫:**
   - **MetricsCollector** ‚Äî —Ä–∞—Å—á—ë—Ç Precision@K, latency, throughput
   - **RAGASEvaluator** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ RAGAS
   - **PrometheusMetrics** ‚Äî —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ production
   - **ExperimentRepository** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤

3. **–ú–µ—Ç—Ä–∏–∫–∏ –≤ –æ—Ç–≤–µ—Ç–µ API:**
   ```json
   {
     "answer": "–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞...",
     "sources": [...],
     "metrics": {
       "precision_at_3": 0.85,
       "faithfulness": 0.90,
       "answer_relevancy": 0.88,
       "retrieval_latency_ms": 150,
       "generation_latency_ms": 800,
       "end_to_end_latency_ms": 950
     }
   }
   ```

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ production:**
   - Prometheus —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ endpoint `/admin/metrics/prometheus`
   - Grafana –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–Ω–¥–æ–≤
   - –ê–ª–µ—Ä—Ç—ã –Ω–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ —Ü–µ–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

5. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
   - ‚úÖ **–û–±—ä–µ–∫—Ç–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞:** –Ω–µ —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏, –∞ –∏–∑–º–µ—Ä–∏–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏
   - ‚úÖ **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:** –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –∫–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —É–ª—É—á—à–∞—é—Ç —Å–∏—Å—Ç–µ–º—É
   - ‚úÖ **–î–æ–≤–µ—Ä–∏–µ —Å—Ç–µ–π–∫—Ö–æ–ª–¥–µ—Ä–æ–≤:** –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –∫–∞—á–µ—Å—Ç–≤–∞
   - ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:** latency –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–º–æ–≥–∞—é—Ç –Ω–∞–π—Ç–∏ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞
   - ‚úÖ **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π:** –º–æ–∂–Ω–æ –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞: `docs/architecture.md` (—Ä–∞–∑–¥–µ–ª 4)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAGAS: `docs/ragas_usage.md`
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Prometheus/Grafana: `docs/prometheus_grafana_setup.md`

---

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç **—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª –æ—Ü–µ–Ω–∫–∏ –≤–ª–∏—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ RAG –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞**.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

1. **ExperimentRepository ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤:**
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π (chunk_size, K, reranking, embedding_model)
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ (precision_at_3, faithfulness, answer_relevancy, latency)
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ in-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (–¥–ª—è —Ç–µ—Å—Ç–æ–≤) –∏ PostgreSQL (–¥–ª—è production)

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤:**
   - –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ —á–µ—Ä–µ–∑ AgentController –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç (–µ—Å–ª–∏ `experiment_repository` –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –º–µ—Ç—Ä–∏–∫–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

3. **–°–∫—Ä–∏–ø—Ç `run_experiments.py` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è batch —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤:**
   ```bash
   # –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ —á–∞–Ω–∫–æ–≤
   python scripts/run_experiments.py --queries queries.txt --configs chunk_size
   
   # –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ K
   python scripts/run_experiments.py --queries queries.txt --configs k
   
   # –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å reranking
   python scripts/run_experiments.py --queries queries.txt --configs reranking
   
   # –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ (–≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏)
   python scripts/run_experiments.py --queries queries.txt --configs all
   ```

4. **–¢–∏–ø—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤:**
   - **–†–∞–∑–º–µ—Ä —á–∞–Ω–∫–æ–≤ (200 / 300 / 400 —Ç–æ–∫–µ–Ω–æ–≤):** –≤–ª–∏—è–Ω–∏–µ –Ω–∞ Faithfulness –∏ Recall
   - **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ retrieved –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (K=3/5/8):** –±–∞–ª–∞–Ω—Å Precision vs Latency
   - **–° reranking / –±–µ–∑ reranking:** –ø—Ä–∏—Ä–æ—Å—Ç Precision@3
   - **–†–∞–∑–Ω—ã–µ embedding-–º–æ–¥–µ–ª–∏:** –∫–∞—á–µ—Å—Ç–≤–æ retrieval

5. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤:**
   - –õ–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ PostgreSQL (–∏–ª–∏ in-memory –¥–ª—è —Ç–µ—Å—Ç–æ–≤)
   - –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ Grafana
   - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≤—ã–±–æ—Ä–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–∞
   - –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ JSON –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

6. **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
   ```python
   # –ó–∞–ø—É—Å–∫ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
   experiment_config = ExperimentConfig(
       chunk_size=300,
       k=3,
       use_reranking=True,
       embedding_model="GigaChat-Embeddings-V1",
       embedding_dim=1536
   )
   
   # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   experiment_id = experiment_repository.save_experiment(
       config=experiment_config,
       metrics={
           "precision_at_3": 0.85,
           "faithfulness": 0.90,
           "answer_relevancy": 0.88,
           "latency_ms": 950
       },
       description="Experiment: chunk_size=300, k=3, reranking=True"
   )
   
   # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
   comparison = experiment_repository.compare_experiments([exp_id1, exp_id2])
   ```

7. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
   - ‚úÖ **–ù–∞—É—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥:** –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
   - ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞:** –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ use case
   - ‚úÖ **–ü–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å:** –≤—Å–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω—ã
   - ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π:** –º–æ–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å, –ø–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω–∞ —Ç–∞ –∏–ª–∏ –∏–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   - ‚úÖ **–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:** —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –ø–æ–º–æ–≥–∞—é—Ç —É–ª—É—á—à–∞—Ç—å —Å–∏—Å—Ç–µ–º—É

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª: `docs/architecture.md` (—Ä–∞–∑–¥–µ–ª 5)
- –°–∫—Ä–∏–ø—Ç —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤: `scripts/run_experiments.py`
- ExperimentRepository: `app/storage/experiment_repository.py`

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **–í—Å–µ–≥–æ –º–æ–¥—É–ª–µ–π:** 11
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤:** 175 ‚úÖ
- **Use Cases —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** 8 –∏–∑ 8 ‚úÖ
- **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:** 100%
- **–°—Ç–∞—Ç—É—Å:** Production-ready

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Neuro_Doc_Assistant ‚Äî —ç—Ç–æ **production-ready AI-–∞–≥–µ–Ω—Ç** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:

1. ‚úÖ **Test-First –ø–æ–¥—Ö–æ–¥** ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
2. ‚úÖ **–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞** ‚Äî –ø–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞
3. ‚úÖ **–†–æ—Å—Å–∏–π—Å–∫–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GigaChat, Qdrant, SberCloud
4. ‚úÖ **–ò–∑–º–µ—Ä–∏–º–æ—Å—Ç—å** ‚Äî –æ–±—ä–µ–∫—Ç–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ –º–µ—Ç—Ä–∏–∫–∏
5. ‚úÖ **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª** ‚Äî –Ω–∞—É—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ RAG-—Å–∏—Å—Ç–µ–º—ã

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤ –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ.

